(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{9272:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/linked-accounts",function(){return s(5911)}])},5911:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return d}});var t=s(5893),c=s(7294),o=s(9008),i=s.n(o),a=s(4298),r=s.n(a),l=s(1163);function d(){let e=(0,l.useRouter)(),[n,s]=(0,c.useState)(!1),[o,a]=(0,c.useState)(null);(0,c.useEffect)(()=>{window.FB&&(window.FB.init({appId:"1039676121523538",cookie:!0,xfbml:!0,version:"v19.0"}),window.FB.AppEvents.logPageView())},[]);let d=async()=>{s(!0),a(null);try{window.FB&&window.FB.login(async n=>{if(n.authResponse)try{let s=await fetch("/api/auth/facebook",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessToken:n.authResponse.accessToken})});(await s.json()).success?e.push("/linkedaccounts/successful"):e.push("/linkedaccounts/unsuccessful")}catch(n){console.error("Error during Facebook authentication:",n),e.push("/linkedaccounts/unsuccessful")}else a("Facebook login was cancelled or failed."),s(!1)},{scope:"email,public_profile"})}catch(e){console.error("Error during Facebook login:",e),a("An unexpected error occurred. Please try again."),s(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i(),{children:[(0,t.jsx)("title",{children:"Linked Accounts - Celeste7"}),(0,t.jsx)("meta",{name:"description",content:"Manage your linked social media accounts"})]}),(0,t.jsx)(r(),{id:"facebook-sdk",strategy:"lazyOnload",dangerouslySetInnerHTML:{__html:"\n            window.fbAsyncInit = function() {\n              FB.init({\n                appId: '1039676121523538',\n                cookie: true,\n                xfbml: true,\n                version: 'v19.0'\n              });\n              \n              FB.AppEvents.logPageView();\n            };\n\n            (function(d, s, id){\n              var js, fjs = d.getElementsByTagName(s)[0];\n              if (d.getElementById(id)) {return;}\n              js = d.createElement(s); js.id = id;\n              js.src = \"https://connect.facebook.net/en_US/sdk.js\";\n              fjs.parentNode.insertBefore(js, fjs);\n            }(document, 'script', 'facebook-jssdk'));\n          "}}),(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,t.jsx)("div",{className:"bg-white shadow sm:rounded-lg",children:(0,t.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,t.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Linked Accounts"}),(0,t.jsx)("div",{className:"mt-5",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("svg",{className:"h-8 w-8 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-base font-medium text-gray-900",children:"Facebook"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Connect your Facebook account"})]})]}),(0,t.jsx)("button",{onClick:d,disabled:n,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white ".concat(n?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"," focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"),children:n?"Connecting...":"Connect"})]}),o&&(0,t.jsx)("div",{className:"mt-2 text-sm text-red-600",children:o})]})})]})})})})]})}},9008:function(e,n,s){e.exports=s(6665)},1163:function(e,n,s){e.exports=s(3035)},4298:function(e,n,s){e.exports=s(5874)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=9272)}),_N_E=e.O()}]);